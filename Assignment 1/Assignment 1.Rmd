---
title: "Assignment 1"
author: "Rodríguez González, Álvaro"
date: "10/6/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Preprocesamiento: Carga datos y librerias

Cargamos las librerias a usar:

```{r}
library(tidyverse)
```

Cargamos los datos:

```{r}
datos <- read.table("./data/Diabetes.csv", sep = ";", header = TRUE)
```

Miremos como son nuestros datos:

```{r}
str(datos)

# Todas las variables tienen su tipo de variable correcto
```

```{r}
summary(datos)

# No hay datos nulos, podemos trabajar bien
```



# Análisis Exploratorio


Resumen general del datasets
```{r}
str(datos)
summary(datos)
```



Resumen de pacientes con diabetes 
```{r}
datos %>%
  count(DIABETES) %>%
  mutate(frecuenciaAbosulta = n, frecuenciaRelativa = frecuenciaAbosulta/sum(n), n = NULL)
```
datos <- read.table("./data/Diabetes.csv", sep = ";", header = TRUE)


```{r}
ggplot(datos) +
  geom_boxplot(aes(AGE))
```



Resumen general del datasets
```{r}
str(datos)
summary(datos)
```



Resumen de pacientes con diabetes 
```{r}
datos %>%
  count(DIABETES) %>%
  mutate(frecuenciaAbosulta = n, frecuenciaRelativa = frecuenciaAbosulta/sum(n), n = NULL)
```
Resumen edad
```{r}
ggplot(datos) +
  geom_boxplot(aes(AGE))
```






























Resumen de pacientes con diabetes 
```{r}
datos %>%
  count(DIABETES) %>%
  mutate(frecuenciaAbosulta = n, frecuenciaRelativa = frecuenciaAbosulta/sum(n), n = NULL)
```
Resumen edad
```{r}
ggplot(datos) +
  geom_boxplot(aes(AGE))
```

```{r}
# Tabla de frecuencias absolutas de pregnant
table(datos$PREGNANT)
```


```{r}
# Histograma de Glucose
ggplot(datos, aes(x = GLUCOSE)) + 
  geom_histogram(fill = "red", color = "black")
```

```{r}
boxplotGlucosa <- boxplot(datos$GLUCOSE)
boxplotGlucosa$out
```


```{r}
ggplot(datos, aes(x = BLOODPRESS)) + 
  geom_histogram(color = "black", fill = "red")
```

```{r}
boxplotBLPR <- boxplot(datos$BLOODPRESS)
boxplotBLPR$out
```

```{r}
ggplot(datos, aes(x = SKINTHICKNESS)) + 
  geom_histogram(color = "black", fill = "red")
```



```{r}
boxplotSKTH <- boxplot(datos$SKINTHICKNESS)
boxplotSKTH$out
```


```{r}
ggplot(datos, aes(x = INSULIN)) + 
  geom_histogram(color = "black", fill = "red")
```



```{r}
boxplotIN <- boxplot(datos$INSULIN)
boxplotIN$out
```

```{r}
ggplot(datos, aes(x = BODYMASSINDEX)) + 
  geom_histogram(color = "black", fill = "red")
```



```{r}
datos_BMI <- datos %>%
  select(BODYMASSINDEX) %>%
  filter(BODYMASSINDEX > 1) %>%
  arrange(desc(BODYMASSINDEX))


# Miro normalidad de los datos 

ggplot(datos_BMI, aes(x = BODYMASSINDEX)) + 
  geom_histogram(aes(y = stat(density)),color = "black", fill = "red", alpha = 0.6) + 
  geom_density(col = "blue")



```












